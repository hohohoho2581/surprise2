<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°—é—Ä–ø—Ä–∏–∑ –¥–ª—è —Ç–µ–±—è</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #ffb6c1, #ffc0cb);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            position: relative;
        }

        /* –≠—Ñ—Ñ–µ–∫—Ç –∑–∞—Ç–µ–º–Ω–µ–Ω–∏—è –ø–æ –∫—Ä–∞—è–º */
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center, transparent 30%, rgba(0, 0, 0, 0.3) 100%);
            pointer-events: none;
            z-index: 1;
        }

        /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ */
        .container {
            position: relative;
            z-index: 2;
            width: 90%;
            max-width: 500px;
            text-align: center;
            padding: 20px;
            transition: all 0.5s ease;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞ */
        .envelope {
            width: 300px;
            height: 200px;
            background: #f9f3f3;
            margin: 0 auto 20px;
            position: relative;
            border-radius: 10px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            transition: transform 0.5s ease;
            cursor: pointer;
            overflow: hidden;
        }

        .envelope:hover {
            transform: scale(1.05);
        }

        .envelope-top {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100px;
            background: #f9d3d3;
            clip-path: polygon(0 0, 50% 100%, 100% 0);
            z-index: 2;
            transform-origin: top;
            transition: transform 0.8s ease;
        }

        .envelope-body {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 150px;
            background: #f9f3f3;
            border-radius: 0 0 10px 10px;
            z-index: 1;
        }

        .envelope.open .envelope-top {
            transform: rotateX(180deg);
            z-index: 0;
        }

        /* –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–æ–Ω–≤–µ—Ä—Ç–∞ */
        .letter {
            position: absolute;
            top: 10px;
            left: 10px;
            width: calc(100% - 20px);
            height: 180px;
            background: white;
            border-radius: 5px;
            padding: 15px;
            text-align: left;
            overflow-y: auto;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.8s ease 0.5s;
            z-index: 3;
        }

        .envelope.open .letter {
            opacity: 1;
            transform: translateY(0);
        }

        .letter-content {
            line-height: 1.6;
            color: #333;
        }

        /* –ö–Ω–æ–ø–∫–∏ */
        .btn {
            background: #e91e63;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 50px;
            font-size: 16px;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(233, 30, 99, 0.3);
        }

        .btn:hover {
            background: #c2185b;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(233, 30, 99, 0.4);
        }

        .btn:active {
            transform: translateY(1px);
        }

        .btn-option {
            background: #9c27b0;
            margin: 5px;
        }

        .btn-option:hover {
            background: #7b1fa2;
        }

        /* –¢–µ–∫—Å—Ç */
        .text {
            margin: 20px 0;
            color: #333;
            font-size: 18px;
            line-height: 1.5;
        }

        .question {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .hint {
            font-size: 14px;
            color: #666;
            margin-top: 10px;
        }

        .error {
            color: #f44336;
            margin: 10px 0;
            font-weight: bold;
        }

        /* –ü–æ–ª–µ –≤–≤–æ–¥–∞ –¥–∞—Ç—ã */
        .date-input {
            padding: 10px;
            border: 2px solid #e91e63;
            border-radius: 5px;
            font-size: 16px;
            margin: 10px 0;
            width: 200px;
            text-align: center;
        }

        /* –ü–æ–ª–µ –≤–≤–æ–¥–∞ –æ—Ç–∑—ã–≤–∞ */
        .review-input {
            width: 100%;
            height: 150px;
            padding: 15px;
            border: 2px solid #e91e63;
            border-radius: 10px;
            font-size: 16px;
            margin: 15px 0;
            resize: none;
        }

        .review-container {
            width: 100%;
            max-width: 500px;
        }

        .keyboard {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            gap: 5px;
            margin: 15px 0;
        }

        .key {
            background: #e0e0e0;
            border: none;
            border-radius: 5px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .key:hover {
            background: #d0d0d0;
        }

        .key:active {
            background: #c0c0c0;
        }

        .space-key {
            grid-column: span 4;
        }

        .submit-key {
            grid-column: span 2;
            background: #4CAF50;
            color: white;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –ø–æ—Ü–µ–ª—É–µ–≤ */
        .kiss {
            position: absolute;
            font-size: 40px;
            opacity: 0;
            z-index: 10;
            user-select: none;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—Ü–µ–ª—É–µ–≤ */
        @keyframes kissFly {
            0% {
                opacity: 1;
                transform: translate(0, 0) scale(0.5);
            }
            50% {
                opacity: 0.8;
                transform: translate(var(--tx), var(--ty)) scale(1);
            }
            100% {
                opacity: 0;
                transform: translate(var(--tx2), var(--ty2)) scale(0.3);
            }
        }

        /* –ê–Ω–∏–º–∞—Ü–∏–∏ —Å–µ—Ä–¥–µ—á–µ–∫ —Ñ–æ–Ω–∞ */
        .heart {
            position: absolute;
            top: -50px;
            width: 30px;
            height: 30px;
            background: #e91e63;
            transform: rotate(45deg);
            opacity: 0.7;
            z-index: 0;
        }

        .heart:before, .heart:after {
            content: '';
            position: absolute;
            width: 30px;
            height: 30px;
            background: #e91e63;
            border-radius: 50%;
        }

        .heart:before {
            top: -15px;
            left: 0;
        }

        .heart:after {
            top: 0;
            left: -15px;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –ø–∞–¥–µ–Ω–∏—è —Å–µ—Ä–¥–µ—á–µ–∫ */
        @keyframes fall {
            0% {
                transform: translateY(-100px) rotate(45deg);
                opacity: 0.7;
            }
            100% {
                transform: translateY(100vh) rotate(45deg);
                opacity: 0;
            }
        }

        /* –°–∫—Ä—ã—Ç–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
        .hidden {
            display: none;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è */
        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –®–∞–≥ 1: –ö–æ–Ω–≤–µ—Ä—Ç —Å –∫–Ω–æ–ø–∫–æ–π "–û—Ç–∫—Ä—ã—Ç—å" -->
        <div id="step1" class="step">
            <div class="envelope">
                <div class="envelope-top"></div>
                <div class="envelope-body"></div>
            </div>
            <p class="text">–ß—Ç–æ –∂–µ —Ç–∞–º?</p>
            <button class="btn" onclick="nextStep(1)">–û—Ç–∫—Ä—ã—Ç—å</button>
        </div>

        <!-- –®–∞–≥ 2: –®—É—Ç–∫–∞ —Å –∫–Ω–æ–ø–∫–æ–π "–û—Ç–∫—Ä—ã—Ç—å" -->
        <div id="step2" class="step hidden">
            <div class="envelope">
                <div class="envelope-top"></div>
                <div class="envelope-body"></div>
            </div>
            <p class="text">–•–∞—Ö–∞ –Ω–µ –≤—Å–µ —Ç–∞–∫ –ø—Ä–æ—Å—Ç–æ!</p>
            <button class="btn" onclick="nextStep(2)">–û—Ç–∫—Ä—ã—Ç—å</button>
        </div>

        <!-- –®–∞–≥ 3: –í–æ–ø—Ä–æ—Å –æ –∏–Ω—Ç–µ—Ä–µ—Å–µ -->
        <div id="step3" class="step hidden">
            <div class="envelope">
                <div class="envelope-top"></div>
                <div class="envelope-body"></div>
            </div>
            <p class="question">–¢–µ–±–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ —É–∑–Ω–∞—Ç—å —á—Ç–æ —Ç–∞–º?</p>
            <button class="btn btn-option" onclick="nextStep(3)">–î–∞</button>
            <button class="btn btn-option" onclick="showError('step3', '–¢–µ–±–µ –∂–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ —è –∂–µ –∑–Ω–∞—é')">–ù–µ—Ç</button>
            <div id="error-step3" class="error hidden"></div>
        </div>

        <!-- –®–∞–≥ 4: –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –≤–æ–ø—Ä–æ—Å–∞—Ö -->
        <div id="step4" class="step hidden">
            <div class="envelope">
                <div class="envelope-top"></div>
                <div class="envelope-body"></div>
            </div>
            <p class="text">–ï—Å–ª–∏ —Ö–æ—á–µ—à—å —É–∑–Ω–∞—Ç—å —á—Ç–æ —Ç–∞–º, –æ—Ç–≤–µ—Ç—å –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–æ–ø—Ä–æ—Å–æ–≤</p>
            <button class="btn" onclick="nextStep(4)">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
        </div>

        <!-- –®–∞–≥ 5: –í–æ–ø—Ä–æ—Å –æ –¥–∞—Ç–µ -->
        <div id="step5" class="step hidden">
            <div class="envelope">
                <div class="envelope-top"></div>
                <div class="envelope-body"></div>
            </div>
            <p class="question">–ö–∞–∫–æ–µ —Å–µ–≥–æ–¥–Ω—è —á–∏—Å–ª–æ?</p>
            <input type="text" class="date-input" id="dateInput" placeholder="DD.MM.YYYY">
            <p class="hint">–ù–∞–ø—Ä–∏–º–µ—Ä: 22.07.2016</p>
            <button class="btn" onclick="checkDate()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
            <div id="error-step5" class="error hidden"></div>
        </div>

        <!-- –®–∞–≥ 6: –í–æ–ø—Ä–æ—Å –æ –≤–∞–∂–Ω–æ—Å—Ç–∏ –¥–∞—Ç—ã -->
        <div id="step6" class="step hidden">
            <div class="envelope">
                <div class="envelope-top"></div>
                <div class="envelope-body"></div>
            </div>
            <p class="question">–í–∞–∂–Ω–∞—è –ª–∏ —ç—Ç–∞ –¥–∞—Ç–∞ –¥–ª—è —Ç–µ–±—è?</p>
            <button class="btn btn-option" onclick="nextStep(6)">–î–∞</button>
            <button class="btn btn-option" onclick="showError('step6', '–Ø —Ç–µ–±—è –ø—Ä–æ—Å—Ç–æ —Ç–∞–∫ –Ω–µ –æ—Ç–ø—É—â—É, –ø–æ–¥—É–º–∞–π —Ö–æ—Ä–æ—à–µ–Ω—å–∫–æ')">–ù–µ—Ç</button>
            <div id="error-step6" class="error hidden"></div>
        </div>

        <!-- –®–∞–≥ 7: –í–æ–ø—Ä–æ—Å –æ –º—ã—Å–ª—è—Ö -->
        <div id="step7" class="step hidden">
            <div class="envelope">
                <div class="envelope-top"></div>
                <div class="envelope-body"></div>
            </div>
            <p class="question">–¢—ã —Å–µ–π—á–∞—Å –¥—É–º–∞–µ—à—å –æ –∫–æ–º-—Ç–æ, –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–± –æ–¥–Ω–æ–º –∫—Ä–∞—Å–∞–≤—á–∏–∫–µ?</p>
            <button class="btn btn-option" onclick="nextStep(7)">–î–∞</button>
            <button class="btn btn-option" onclick="showError('step7', '–û—á–µ–Ω—å –∂–∞–ª—å, –Ω–æ –ø—Ä–æ—Å—Ç–æ —Ç–∞–∫ –æ—Ç–∫—Ä—ã—Ç—å —Ç—ã –Ω–µ –º–æ–∂–µ—à—å –∫–æ–Ω–≤–µ—Ä—Ç')">–ù–µ—Ç</button>
            <div id="error-step7" class="error hidden"></div>
        </div>

        <!-- –®–∞–≥ 8: –í–æ–ø—Ä–æ—Å –æ –ª–µ–≥–µ–Ω–¥–µ -->
        <div id="step8" class="step hidden">
            <div class="envelope">
                <div class="envelope-top"></div>
                <div class="envelope-body"></div>
            </div>
            <p class="question">–¢—ã –≤–µ—Ä–∏—à—å –≤ –ª–µ–≥–µ–Ω–¥—É –æ–± –∞–ª–ª–∞—Ö–µ?</p>
            <button class="btn btn-option" onclick="nextStep(8)">–∞—Ö–∞–∞–∞—Ö–≤–∞—Ö–≤—Ö–∞–≤—Ö–∞0–≤–∞0–≤</button>
            <button class="btn btn-option" onclick="showError('step8', '–∑–µ–º–ª—è –µ–º—É –ø—É—Ö–æ–º')">–º–µ–Ω—Ç —É–º–µ—Ä</button>
            <div id="error-step8" class="error hidden"></div>
        </div>

        <!-- –®–∞–≥ 9: –í–æ–ø—Ä–æ—Å –æ —Ä–∞–¥–æ—Å—Ç–∏ -->
        <div id="step9" class="step hidden">
            <div class="envelope">
                <div class="envelope-top"></div>
                <div class="envelope-body"></div>
            </div>
            <p class="question">–†–∞–¥–∞ –ª–∏ —Ç—ã?</p>
            <button class="btn btn-option" onclick="nextStep(9)">–¥–∞</button>
            <button class="btn btn-option" onclick="nextStep(9)">–î–ê–ê–ê–ê–ê–ê–ê–ê–ê–ê–ê–ê–ê–ê–ê–ê–ê</button>
            <button class="btn btn-option" onclick="nextStep(9)">–¥–æ–ø</button>
        </div>

        <!-- –®–∞–≥ 10: –û—Ç–∑—ã–≤ -->
        <div id="step10" class="step hidden">
            <div class="envelope">
                <div class="envelope-top"></div>
                <div class="envelope-body"></div>
            </div>
            <p class="text">–ß—Ç–æ–± —É–∑–Ω–∞—Ç—å —á—Ç–æ –¥–∞–ª—å—à–µ –Ω—É–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å –æ—Ç–∑—ã–≤ –æ–± —ç—Ç–æ–º —Å–∞–π—Ç–µ –º–∏–Ω–∏–º—É–º 200 —Å–ª–æ–≤, –¥–æ–≥–æ–≤–æ—Ä–∏–ª–∏—Å—å?</p>
            <div class="review-container">
                <textarea class="review-input" id="reviewInput" placeholder="–ù–∞–ø–∏—à–∏ —Å–≤–æ–π –æ—Ç–∑—ã–≤ –∑–¥–µ—Å—å..."></textarea>
                <div class="keyboard" id="keyboard">
                    <!-- –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –±—É–¥–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞ —á–µ—Ä–µ–∑ JavaScript -->
                </div>
                <div id="reviewHint" class="hint hidden">–≠—Ç–æ –±—ã–ª –ø—Ä–∞–Ω–∫ –∞—Ö–∞—Ö–∞—Ö–∞—Ö</div>
                <button class="btn" onclick="submitReview()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤</button>
            </div>
        </div>

        <!-- –®–∞–≥ 11: –ü—Ä–∞–Ω–∫ -->
        <div id="step11" class="step hidden">
            <div class="envelope">
                <div class="envelope-top"></div>
                <div class="envelope-body"></div>
            </div>
            <p class="text">–ê—Ö–∞—Ö–∞—Ö–∞—Ö–∞—Ö–∞—Ö —Ç—ã –ø–æ–≤–µ—Ä–∏–ª–∞ –º–Ω–µ? –Ω–µ –±—É–¥—å —Ç–∞–∫–æ–π –Ω–∞–∏–≤–Ω–æ–π</p>
            <button class="btn" onclick="nextStep(11)">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
        </div>

        <!-- –®–∞–≥ 12: –ü–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –∫–Ω–æ–ø–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è -->
        <div id="step12" class="step hidden">
            <div class="envelope">
                <div class="envelope-top"></div>
                <div class="envelope-body"></div>
            </div>
            <p class="text">–ú–æ–ª–æ–¥–µ—Ü! –¢—ã –ø—Ä–æ—à–ª–∞ –º–∏–Ω–∏ –≤–∏–∫—Ç–æ—Ä–∏–Ω—É, –ø—Ä–∏—à–ª–æ –≤—Ä–µ–º—è –æ—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω–≤–µ—Ä—Ç</p>
            <button class="btn" onclick="openEnvelope()">–û—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω–≤–µ—Ä—Ç</button>
        </div>

        <!-- –®–∞–≥ 13: –û—Ç–∫—Ä—ã—Ç—ã–π –∫–æ–Ω–≤–µ—Ä—Ç —Å –ø–∏—Å—å–º–æ–º -->
        <div id="step13" class="step hidden">
            <div class="envelope open">
                <div class="envelope-top"></div>
                <div class="envelope-body"></div>
                <div class="letter">
                    <div class="letter-content">
                        <p>–í–æ—Ç –∏ –ø—Ä–æ–ª–µ—Ç–µ–ª–∏ 3 –º–µ—Å—è—Ü–∞, –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ, –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ –∏ –Ω–∞—Å—ã—â–µ–Ω–Ω–æ. –ü–æ–∑–¥—Ä–∞–≤–ª—è—é –Ω–∞—Å —Å —ç—Ç–∏–º –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ–º!</p>
                        <p>–Ø –∏—Å–∫—Ä–µ–Ω–Ω–µ —Ä–∞–¥, —á—Ç–æ —Ç—ã –ø–æ—è–≤–∏–ª–∞—Å—å –≤ –º–æ–µ–π –∂–∏–∑–Ω–∏, –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç –∏ –¥–Ω—è –∫–æ–≥–¥–∞ —è –Ω–µ —Å–∫—É—á–∞—é –ø–æ —Ç–µ–±–µ, —Å–∏–ª—å–Ω–æ –ª—é–±–ª—é —Ç–µ–±—è —Å–æ–ª–Ω—ã—à–∫–æ –º–æ–µ!</p>
                        <p>–°–ø–∞—Å–∏–±–æ –∑–∞ —Ç–µ–±–µ –∑–∞ –≤—Å–µ —Ö–æ—Ä–æ—à–∏–µ –º–æ–º–µ–Ω—Ç—ã, —Ç–≤–æ—é –ª—é–±–æ–≤—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É, –æ—á–µ–Ω—å –¥–æ—Ä–æ–∂—É –≤—Å–µ–º —ç—Ç–∏–º.</p>
                        <p>–Ø –≤–µ—Ä—é –∏ –∑–Ω–∞—é, —á—Ç–æ —É –Ω–∞—Å –ø–æ–ª—É—á–∏—Ç—Å—è –≤—Å–µ –≤ —ç—Ç–æ–π –∂–∏–∑–Ω–∏, –¥–æ—Å—Ç–∏–≥–Ω–µ–º –≤—Å–µ—Ö –≤—ã—Å–æ—Ç –∏ –±—É–¥–µ–º –≤—Å–µ–≥–¥–∞ –≤–º–µ—Å—Ç–µ.</p>
                        <p>–ï—â–µ —Ä–∞–∑ –ø–æ–∑–¥—Ä–∞–≤–ª—è—é –Ω–∞—Å —Å —ç—Ç–∏–º –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã–º –¥–Ω–µ–º! –õ—é–±–ª—é —Ç–µ–±—è –º–æ—è –¥–æ—Ä–æ–≥–∞—è –õ–µ–Ω–∞!</p>
                        <p style="text-align: right; margin-top: 20px;">—Ç–≤–æ–π –ß–∏–º–∏—Ç–∏–∫ ‚Ä¢‚©ä‚Ä¢</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // –¢–µ–∫—É—â–∏–π —à–∞–≥
        let currentStep = 1;

        // –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–≥—É
        function nextStep(step) {
            // –°–∫—Ä—ã–≤–∞–µ–º —Ç–µ–∫—É—â–∏–π —à–∞–≥
            document.getElementById(`step${currentStep}`).classList.add('hidden');
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥
            currentStep = step + 1;
            const nextStepElement = document.getElementById(`step${currentStep}`);
            nextStepElement.classList.remove('hidden');
            nextStepElement.classList.add('fade-in');
            
            // –£–±–∏—Ä–∞–µ–º –∫–ª–∞—Å—Å –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
            setTimeout(() => {
                nextStepElement.classList.remove('fade-in');
            }, 500);
        }

        // –§—É–Ω–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞ –æ—à–∏–±–∫–∏
        function showError(step, message) {
            const errorElement = document.getElementById(`error-${step}`);
            errorElement.textContent = message;
            errorElement.classList.remove('hidden');
            
            // –°–∫—Ä—ã–≤–∞–µ–º –æ—à–∏–±–∫—É —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
            setTimeout(() => {
                errorElement.classList.add('hidden');
            }, 3000);
        }

        // –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–∞—Ç—ã
        function checkDate() {
            const dateInput = document.getElementById('dateInput').value;
            const correctDate = '14.11.2025';
            
            if (dateInput === correctDate) {
                nextStep(5);
            } else {
                showError('step5', '–£–ø—Å, –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç, –ø–æ–ø—Ä–æ–±—É–π –µ—â–µ —Ä–∞–∑');
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç–∑—ã–≤–∞
        function submitReview() {
            nextStep(10);
        }

        // –§—É–Ω–∫—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç–∏—è –∫–æ–Ω–≤–µ—Ä—Ç–∞
        function openEnvelope() {
            // –°–∫—Ä—ã–≤–∞–µ–º —Ç–µ–∫—É—â–∏–π —à–∞–≥
            document.getElementById(`step${currentStep}`).classList.add('hidden');
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—Ç–∫—Ä—ã—Ç—ã–π –∫–æ–Ω–≤–µ—Ä—Ç
            currentStep = 13;
            const envelopeStep = document.getElementById(`step${currentStep}`);
            envelopeStep.classList.remove('hidden');
            envelopeStep.classList.add('fade-in');
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –ø–æ—Ü–µ–ª—É–µ–≤
            createKisses();
            
            // –£–±–∏—Ä–∞–µ–º –∫–ª–∞—Å—Å –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
            setTimeout(() => {
                envelopeStep.classList.remove('fade-in');
            }, 500);
        }

        // –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
        function createKeyboard() {
            const keyboard = document.getElementById('keyboard');
            const keys = [
                '1', '2', '3', '4', '5', '6', '7', '8', '9', '0',
                '–π', '—Ü', '—É', '–∫', '–µ', '–Ω', '–≥', '—à', '—â', '–∑',
                '—Ñ', '—ã', '–≤', '–∞', '–ø', '—Ä', '–æ', '–ª', '–¥', '–∂',
                '—è', '—á', '—Å', '–º', '–∏', '—Ç', '—å', '–±', '—é', 'Backspace',
                'Space', 'Enter'
            ];
            
            keys.forEach(key => {
                const keyElement = document.createElement('button');
                keyElement.classList.add('key');
                
                if (key === 'Space') {
                    keyElement.classList.add('space-key');
                    keyElement.textContent = '–ü—Ä–æ–±–µ–ª';
                    keyElement.onclick = () => {
                        document.getElementById('reviewInput').value += ' ';
                        checkReviewLength();
                    };
                } else if (key === 'Enter') {
                    keyElement.classList.add('submit-key');
                    keyElement.textContent = '–û—Ç–ø—Ä–∞–≤–∏—Ç—å';
                    keyElement.onclick = submitReview;
                } else if (key === 'Backspace') {
                    keyElement.textContent = '‚Üê';
                    keyElement.onclick = () => {
                        const input = document.getElementById('reviewInput');
                        input.value = input.value.slice(0, -1);
                        checkReviewLength();
                    };
                } else {
                    keyElement.textContent = key;
                    keyElement.onclick = () => {
                        document.getElementById('reviewInput').value += key;
                        checkReviewLength();
                    };
                }
                
                keyboard.appendChild(keyElement);
            });
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª–∏–Ω—ã –æ—Ç–∑—ã–≤–∞
        function checkReviewLength() {
            const reviewInput = document.getElementById('reviewInput');
            const reviewHint = document.getElementById('reviewHint');
            
            if (reviewInput.value.length >= 5) {
                reviewHint.classList.remove('hidden');
            } else {
                reviewHint.classList.add('hidden');
            }
        }

        // –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–¥–∞—é—â–∏—Ö —Å–µ—Ä–¥–µ—á–µ–∫ —Ñ–æ–Ω–∞
        function createHearts() {
            const container = document.querySelector('body');
            const heartCount = 15;
            
            for (let i = 0; i < heartCount; i++) {
                const heart = document.createElement('div');
                heart.classList.add('heart');
                
                // –°–ª—É—á–∞–π–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏
                const left = Math.random() * 100;
                heart.style.left = `${left}vw`;
                
                // –°–ª—É—á–∞–π–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–∏
                const delay = Math.random() * 5;
                heart.style.animation = `fall ${5 + Math.random() * 5}s linear ${delay}s infinite`;
                
                // –°–ª—É—á–∞–π–Ω—ã–π —Ä–∞–∑–º–µ—Ä
                const size = 20 + Math.random() * 20;
                heart.style.width = `${size}px`;
                heart.style.height = `${size}px`;
                
                container.appendChild(heart);
            }
        }

        // –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Ü–µ–ª—É–µ–≤
        function createKisses() {
            const container = document.querySelector('body');
            const kissCount = 15;
            
            for (let i = 0; i < kissCount; i++) {
                const kiss = document.createElement('div');
                kiss.classList.add('kiss');
                kiss.innerHTML = 'üíã';
                
                // –°–ª—É—á–∞–π–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è
                const left = Math.random() * 100;
                const top = Math.random() * 100;
                kiss.style.left = `${left}%`;
                kiss.style.top = `${top}%`;
                
                // –°–ª—É—á–∞–π–Ω–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª–µ—Ç–∞
                const tx = (Math.random() - 0.5) * 200;
                const ty = (Math.random() - 0.5) * 200;
                const tx2 = (Math.random() - 0.5) * 400;
                const ty2 = (Math.random() - 0.5) * 400;
                
                kiss.style.setProperty('--tx', `${tx}px`);
                kiss.style.setProperty('--ty', `${ty}px`);
                kiss.style.setProperty('--tx2', `${tx2}px`);
                kiss.style.setProperty('--ty2', `${ty2}px`);
                
                // –ê–Ω–∏–º–∞—Ü–∏—è
                kiss.style.animation = `kissFly ${3 + Math.random() * 2}s ease-out forwards`;
                
                container.appendChild(kiss);
                
                // –£–¥–∞–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏
                setTimeout(() => {
                    if (kiss.parentNode) {
                        kiss.remove();
                    }
                }, 5000);
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.onload = function() {
            createHearts();
            createKeyboard();
        };
    </script>
</body>
</html>
